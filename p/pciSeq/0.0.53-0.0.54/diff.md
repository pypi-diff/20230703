# Comparing `tmp/pciSeq-0.0.53-py3-none-any.whl.zip` & `tmp/pciSeq-0.0.54-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,18 +1,18 @@
-Zip file size: 364171 bytes, number of entries: 73
+Zip file size: 364208 bytes, number of entries: 73
 -rw-rw-rw-  2.0 fat     2135 b- defN 23-Jun-25 20:54 pciSeq/__init__.py
--rw-rw-rw-  2.0 fat    10910 b- defN 23-Jun-29 10:21 pciSeq/app.py
+-rw-rw-rw-  2.0 fat    10910 b- defN 23-Jul-03 00:22 pciSeq/app.py
 -rw-rw-rw-  2.0 fat     3369 b- defN 23-Jul-02 23:15 pciSeq/config.py
 -rw-rw-rw-  2.0 fat     3678 b- defN 22-Apr-07 23:15 pciSeq/make_plot.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Jan-19 17:53 pciSeq/src/__init__.py
--rw-rw-rw-  2.0 fat       22 b- defN 23-Jul-02 23:28 pciSeq/src/_version.py
+-rw-rw-rw-  2.0 fat       22 b- defN 23-Jul-03 00:22 pciSeq/src/_version.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Jan-19 17:53 pciSeq/src/cell_call/__init__.py
 -rw-rw-rw-  2.0 fat    20864 b- defN 23-Jun-29 10:21 pciSeq/src/cell_call/datatypes.py
 -rw-rw-rw-  2.0 fat     2995 b- defN 23-Apr-26 22:13 pciSeq/src/cell_call/log_config.py
--rw-rw-rw-  2.0 fat    18989 b- defN 23-Jul-02 11:57 pciSeq/src/cell_call/main.py
+-rw-rw-rw-  2.0 fat    19063 b- defN 23-Jul-03 00:12 pciSeq/src/cell_call/main.py
 -rw-rw-rw-  2.0 fat     3104 b- defN 23-Jun-25 20:54 pciSeq/src/cell_call/summary.py
 -rw-rw-rw-  2.0 fat     9194 b- defN 23-Jun-25 20:54 pciSeq/src/cell_call/utils.py
 -rw-rw-rw-  2.0 fat        0 b- defN 23-Jun-11 12:10 pciSeq/src/diagnostics/__init__.py
 -rw-rw-rw-  2.0 fat      299 b- defN 23-Jun-24 12:16 pciSeq/src/diagnostics/config.py
 -rw-rw-rw-  2.0 fat     3336 b- defN 23-Jun-25 20:54 pciSeq/src/diagnostics/diagnostics.py
 -rw-rw-rw-  2.0 fat      796 b- defN 23-Jun-25 20:54 pciSeq/src/diagnostics/launch_diagnostics.py
 -rw-rw-rw-  2.0 fat     7162 b- defN 23-Jun-25 20:54 pciSeq/src/diagnostics/utils.py
@@ -62,14 +62,14 @@
 -rw-rw-rw-  2.0 fat    15374 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/leaflet-pip.js
 -rw-rw-rw-  2.0 fat     5927 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/leaflet.textpath.js
 -rw-rw-rw-  2.0 fat      265 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/preloader.js
 -rw-rw-rw-  2.0 fat     9097 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/MarkerContainer.js
 -rw-rw-rw-  2.0 fat     4434 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/bezier-easing.js
 -rw-rw-rw-  2.0 fat   613808 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/example.min.js
 -rw-rw-rw-  2.0 fat    91874 b- defN 23-Apr-26 22:13 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/tools.min.js
--rw-rw-rw-  2.0 fat     1091 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/LICENCE
--rw-rw-rw-  2.0 fat     4183 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       48 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/entry_points.txt
--rw-rw-rw-  2.0 fat        7 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     6935 b- defN 23-Jul-02 23:28 pciSeq-0.0.53.dist-info/RECORD
-73 files, 1325038 bytes uncompressed, 352921 bytes compressed:  73.4%
+-rw-rw-rw-  2.0 fat     1091 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/LICENCE
+-rw-rw-rw-  2.0 fat     4183 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       48 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/entry_points.txt
+-rw-rw-rw-  2.0 fat        7 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     6935 b- defN 23-Jul-03 00:23 pciSeq-0.0.54.dist-info/RECORD
+73 files, 1325112 bytes uncompressed, 352958 bytes compressed:  73.4%
```

## zipnote {}

```diff
@@ -195,26 +195,26 @@
 
 Filename: pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/example.min.js
 Comment: 
 
 Filename: pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/tools.min.js
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/LICENCE
+Filename: pciSeq-0.0.54.dist-info/LICENCE
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/METADATA
+Filename: pciSeq-0.0.54.dist-info/METADATA
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/WHEEL
+Filename: pciSeq-0.0.54.dist-info/WHEEL
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/entry_points.txt
+Filename: pciSeq-0.0.54.dist-info/entry_points.txt
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/top_level.txt
+Filename: pciSeq-0.0.54.dist-info/top_level.txt
 Comment: 
 
-Filename: pciSeq-0.0.53.dist-info/RECORD
+Filename: pciSeq-0.0.54.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pciSeq/src/_version.py

```diff
@@ -1 +1 @@
-__version__ = '0.0.53'
+__version__ = '0.0.54'
```

## pciSeq/src/cell_call/main.py

```diff
@@ -384,25 +384,26 @@
             'gene': self.genes.gene_panel
         })
         self.redis_db.to_redis(eta_bar_df, "gene_efficiency", iteration=self.iter_num,
                                has_converged=self.has_converged, unix_time=time.time())
         self.redis_db.publish(eta_bar_df, "gene_efficiency", iteration=self.iter_num,
                                has_converged=self.has_converged, unix_time=time.time())
 
-        pi_bar_df = pd.DataFrame({
-            'weight': np.bincount(self.cells.classProb.argmax(axis=1))/np.bincount(self.cells.classProb.argmax(axis=1)).sum(),
-            'class': self.cellTypes.names
-        })
-        self.redis_db.to_redis(pi_bar_df, "cell_type_prior", iter_num=self.iter_num,
-                               has_converged=self.has_converged, unix_time=time.time())
+        # pi_bar_df = pd.DataFrame({
+        #     'weight': np.bincount(self.cells.classProb.argmax(axis=1))/np.bincount(self.cells.classProb.argmax(axis=1)).sum(),
+        #     'class': self.cellTypes.names
+        # })
+        # self.redis_db.to_redis(pi_bar_df, "cell_type_prior", iter_num=self.iter_num,
+        #                        has_converged=self.has_converged, unix_time=time.time())
 
         idx=[]
+        size = self.cellTypes.names.shape[0]
         for i, row in enumerate(self.cells.classProb[1:, :]):  # ignore the top row, it corresponds to the background, it is not an actual cell
             idx.append(np.argmax(row))
-        counts = np.bincount(idx)
+        counts = np.bincount(idx, minlength=size)
         # prob = np.bincount(idx) / np.bincount(idx).sum()
         df = pd.DataFrame({
             'class_name': self.cellTypes.names,
             'counts': counts
         })
         self.redis_db.to_redis(df, "cell_type_posterior", iter_num=self.iter_num, has_converged=self.has_converged, unix_time=time.time())
         self.redis_db.publish(df, "cell_type_posterior", iteration=self.iter_num, has_converged=self.has_converged, unix_time=time.time())
```

## Comparing `pciSeq-0.0.53.dist-info/LICENCE` & `pciSeq-0.0.54.dist-info/LICENCE`

 * *Files identical despite different names*

## Comparing `pciSeq-0.0.53.dist-info/METADATA` & `pciSeq-0.0.54.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pciSeq
-Version: 0.0.53
+Version: 0.0.54
 Summary: Probabilistic cell typing for spatial transcriptomics
 Home-page: https://github.com/acycliq/pciSeq
 Author: Dimitris Nicoloutsopoulos
 Author-email: dimitris.nicoloutsopoulos@gmail.com
 License: BSD
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: BSD License
```

## Comparing `pciSeq-0.0.53.dist-info/RECORD` & `pciSeq-0.0.54.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 pciSeq/__init__.py,sha256=mxqjE8smLqDQuwzheJ_iA3gfcyV7c4x8lHQPwSEQwJk,2135
 pciSeq/app.py,sha256=WTBF8N7hbVz6DE3yroUgXL23ophYgyQno_s5V-A0MF4,10910
 pciSeq/config.py,sha256=u227HnbaSSGJs3wPopJju7GK59WPl7lN6G27JTkoPZc,3369
 pciSeq/make_plot.py,sha256=2AkncrVVvytr2keK505oMC0LV1Txli9WpsSGpjmht_4,3678
 pciSeq/src/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-pciSeq/src/_version.py,sha256=mvQhznJXLC55kHCt_KmJeb03SQThvxYeC7PoSgtuWN4,22
+pciSeq/src/_version.py,sha256=Zudu6Hk8_v8R6szrxWJSMgOyPBWEPbj4_v5J3jEqwuw,22
 pciSeq/src/cell_call/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pciSeq/src/cell_call/datatypes.py,sha256=om8kMxOUxKcAoQHSTgXEuX4UNMGtwTjFkOCGmeublqs,20864
 pciSeq/src/cell_call/log_config.py,sha256=vnm9TxlMEVG_GLPfl21GDEWTafEk3B-drTLsVQMfFEE,2995
-pciSeq/src/cell_call/main.py,sha256=Vi4PvkIrljvyLpgK6AagXBdcreApX8uFkAqqbbVDQ7c,18989
+pciSeq/src/cell_call/main.py,sha256=Lwj_g-S7pa2zioGPbFjaC3YOZQER_xcjmRbKrZeQVKE,19063
 pciSeq/src/cell_call/summary.py,sha256=f2snLqJIeywtYuHrJLM-hRvifgqRU2u2aCKE_JrZJPs,3104
 pciSeq/src/cell_call/utils.py,sha256=M4KJrS82pIHuCoxg2ej6NE9fJAVCvJw90T7YmWI2T7o,9194
 pciSeq/src/diagnostics/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pciSeq/src/diagnostics/config.py,sha256=kfPzvlFdGN0QgdfECwVV8lujXUiyim4fuetJoU4ziBQ,299
 pciSeq/src/diagnostics/diagnostics.py,sha256=L8tBgykN-KktrUS8YdIP5doi8meVVUUZU2PvOcUt72g,3336
 pciSeq/src/diagnostics/launch_diagnostics.py,sha256=p2t1wDc48iWvpfEjUt_-J5iK37EXPMg2O12y-pCeE_w,796
 pciSeq/src/diagnostics/utils.py,sha256=W77vAs1id1T47y7Wgt8VE9xut71TzgcN5ixXKEFPBMw,7162
@@ -61,13 +61,13 @@
 pciSeq/static/2D/viewer/js/lib/js/leaflet-pip.js,sha256=QqsilU0SHTaKA_qNSv_jEDH53cWO6T_RdforfybnbKM,15374
 pciSeq/static/2D/viewer/js/lib/js/leaflet.textpath.js,sha256=i5cmMPqpqXShZz0TvXU3ZQUi2Y07SIbIpMYbhPE8gWE,5927
 pciSeq/static/2D/viewer/js/lib/js/preloader.js,sha256=eaFWRf9yT-Td4C2t01P8fDEZYszYTaGDgQ1vjevNIDI,265
 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/MarkerContainer.js,sha256=Z8TADCqYEQr25OEF7wljsOVAOpx87UrjFPI2nvIty70,9097
 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/bezier-easing.js,sha256=yMoRDqJiglg0M0eWM25WGA5zzLWuJpOyC3a8aGFx0jw,4434
 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/example.min.js,sha256=bZEnK8XSnShrpLYtOS7Xq7wnp-nW_nMZh4aaDc1Gt6U,613808
 pciSeq/static/2D/viewer/js/lib/js/pixiOverlay/tools.min.js,sha256=A027Ub-oWXvKbz2B3pgMFS5xApmnEHXz9GQh79YZZnU,91874
-pciSeq-0.0.53.dist-info/LICENCE,sha256=6kbiFSfobTZ7beWiKnHpN902HgBx-Jzgcme0SvKqhKY,1091
-pciSeq-0.0.53.dist-info/METADATA,sha256=susjFjUbx8DBn3qofczXF6Y9MVx2sKDGdJAStmuLSCg,4183
-pciSeq-0.0.53.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-pciSeq-0.0.53.dist-info/entry_points.txt,sha256=RGOkAd0S7rrTuEInj-jKu5B7630i4R3mK9v9vx6nqc8,48
-pciSeq-0.0.53.dist-info/top_level.txt,sha256=mSonMN0SaB51m5yLGm5hFE1Fthf-2U4sRKxSezY-JMk,7
-pciSeq-0.0.53.dist-info/RECORD,,
+pciSeq-0.0.54.dist-info/LICENCE,sha256=6kbiFSfobTZ7beWiKnHpN902HgBx-Jzgcme0SvKqhKY,1091
+pciSeq-0.0.54.dist-info/METADATA,sha256=Ff_pnuJLCpa4Yy_FW4k3UCKzHBf5Ub54lHQdfqT7yXE,4183
+pciSeq-0.0.54.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+pciSeq-0.0.54.dist-info/entry_points.txt,sha256=RGOkAd0S7rrTuEInj-jKu5B7630i4R3mK9v9vx6nqc8,48
+pciSeq-0.0.54.dist-info/top_level.txt,sha256=mSonMN0SaB51m5yLGm5hFE1Fthf-2U4sRKxSezY-JMk,7
+pciSeq-0.0.54.dist-info/RECORD,,
```

