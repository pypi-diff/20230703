# Comparing `tmp/odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1-py3-none-any.whl.zip` & `tmp/odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,46 +1,46 @@
-Zip file size: 42559 bytes, number of entries: 44
--rw-r--r--  2.0 unx     2828 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/__init__.py
--rw-r--r--  2.0 unx      707 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/__manifest__.py
--rw-r--r--  2.0 unx     2847 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml
--rw-r--r--  2.0 unx     5197 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/i18n/l10n_es_vat_prorate.pot
--rw-r--r--  2.0 unx       79 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/models/__init__.py
--rw-r--r--  2.0 unx     3096 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/models/account_move.py
--rw-r--r--  2.0 unx     3740 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/models/account_tax.py
--rw-r--r--  2.0 unx      956 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/models/res_company.py
--rw-r--r--  2.0 unx      190 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx       16 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       67 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      311 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/static/description/icon.png
--rw-r--r--  2.0 unx    12069 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/static/description/index.html
--rw-r--r--  2.0 unx       62 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/__init__.py
--rw-r--r--  2.0 unx     4400 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/test_prorate_sii.py
--rw-r--r--  2.0 unx     5380 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/test_vat_prorate.py
--rw-r--r--  2.0 unx      736 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva0_ns_p_iva10_bc_dict.json
--rw-r--r--  2.0 unx      701 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_dict.json
--rw-r--r--  2.0 unx      787 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf19_p_iva21_sc_p_irpf19_dict.json
--rw-r--r--  2.0 unx      701 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf1_dict.json
--rw-r--r--  2.0 unx     1096 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_req014_p_iva21_sc_p_req52_dict.json
--rw-r--r--  2.0 unx      711 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva21_sp_ex_dict.json
--rw-r--r--  2.0 unx      734 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva10_bc_dict.json
--rw-r--r--  2.0 unx      735 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva21_sp_in_dict.json
--rw-r--r--  2.0 unx      921 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva0_sp_i_s_iva0_ic_dict.json
--rw-r--r--  2.0 unx      871 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_dict.json
--rw-r--r--  2.0 unx      871 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_irpf1_dict.json
--rw-r--r--  2.0 unx      871 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva0_ns_dict.json
--rw-r--r--  2.0 unx     1362 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva21s_dict.json
--rw-r--r--  2.0 unx     1573 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_req014_s_iva21s_s_req52_dict.json
--rw-r--r--  2.0 unx      921 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva_e_s_iva0_e_dict.json
--rw-r--r--  2.0 unx      956 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva0_sp_i_s_iva0_ic_dict.json
--rw-r--r--  2.0 unx     1397 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva10b_s_iva10b_s_iva21s_dict.json
--rw-r--r--  2.0 unx      956 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva_e_s_iva0_e_dict.json
--rw-r--r--  2.0 unx      707 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/views/account_move_views.xml
--rw-r--r--  2.0 unx      798 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml
--rw-r--r--  2.0 unx     1201 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/views/res_company_prorate_views.xml
--rw-r--r--  2.0 unx      949 b- defN 23-May-28 03:55 odoo/addons/l10n_es_vat_prorate/views/res_company_views.xml
--rw-r--r--  2.0 unx     3437 b- defN 23-May-28 03:55 odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-28 03:55 odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-May-28 03:55 odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     5482 b- defN 23-May-28 03:55 odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/RECORD
-44 files, 80992 bytes uncompressed, 33067 bytes compressed:  59.2%
+Zip file size: 43163 bytes, number of entries: 44
+-rw-r--r--  2.0 unx     2828 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/__init__.py
+-rw-r--r--  2.0 unx      707 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/__manifest__.py
+-rw-r--r--  2.0 unx     9925 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml
+-rw-r--r--  2.0 unx     5731 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/i18n/l10n_es_vat_prorate.pot
+-rw-r--r--  2.0 unx       79 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/models/__init__.py
+-rw-r--r--  2.0 unx     3096 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/models/account_move.py
+-rw-r--r--  2.0 unx     5880 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/models/account_tax.py
+-rw-r--r--  2.0 unx      956 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/models/res_company.py
+-rw-r--r--  2.0 unx      190 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx       16 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       67 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      311 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/static/description/icon.png
+-rw-r--r--  2.0 unx    12069 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/static/description/index.html
+-rw-r--r--  2.0 unx       62 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/__init__.py
+-rw-r--r--  2.0 unx     4400 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/test_prorate_sii.py
+-rw-r--r--  2.0 unx     5380 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/test_vat_prorate.py
+-rw-r--r--  2.0 unx      736 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva0_ns_p_iva10_bc_dict.json
+-rw-r--r--  2.0 unx      701 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_dict.json
+-rw-r--r--  2.0 unx      787 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf19_p_iva21_sc_p_irpf19_dict.json
+-rw-r--r--  2.0 unx      701 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf1_dict.json
+-rw-r--r--  2.0 unx     1096 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_req014_p_iva21_sc_p_req52_dict.json
+-rw-r--r--  2.0 unx      710 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva21_sp_ex_dict.json
+-rw-r--r--  2.0 unx      734 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva10_bc_dict.json
+-rw-r--r--  2.0 unx      734 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva21_sp_in_dict.json
+-rw-r--r--  2.0 unx      921 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva0_sp_i_s_iva0_ic_dict.json
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_dict.json
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_irpf1_dict.json
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva0_ns_dict.json
+-rw-r--r--  2.0 unx     1362 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva21s_dict.json
+-rw-r--r--  2.0 unx     1573 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_req014_s_iva21s_s_req52_dict.json
+-rw-r--r--  2.0 unx      921 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva_e_s_iva0_e_dict.json
+-rw-r--r--  2.0 unx      956 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva0_sp_i_s_iva0_ic_dict.json
+-rw-r--r--  2.0 unx     1397 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva10b_s_iva10b_s_iva21s_dict.json
+-rw-r--r--  2.0 unx      956 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva_e_s_iva0_e_dict.json
+-rw-r--r--  2.0 unx      707 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/views/account_move_views.xml
+-rw-r--r--  2.0 unx     1017 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml
+-rw-r--r--  2.0 unx     1201 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/views/res_company_prorate_views.xml
+-rw-r--r--  2.0 unx      949 b- defN 23-Jul-03 13:46 odoo/addons/l10n_es_vat_prorate/views/res_company_views.xml
+-rw-r--r--  2.0 unx     3432 b- defN 23-Jul-03 13:46 odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-03 13:46 odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-03 13:46 odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     5463 b- defN 23-Jul-03 13:46 odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/RECORD
+44 files, 90937 bytes uncompressed, 33711 bytes compressed:  62.9%
```

## zipnote {}

```diff
@@ -114,20 +114,20 @@
 
 Filename: odoo/addons/l10n_es_vat_prorate/views/res_company_prorate_views.xml
 Comment: 
 
 Filename: odoo/addons/l10n_es_vat_prorate/views/res_company_views.xml
 Comment: 
 
-Filename: odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/METADATA
+Filename: odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/WHEEL
+Filename: odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/top_level.txt
+Filename: odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/RECORD
+Filename: odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/l10n_es_vat_prorate/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2022 Creu Blanca
 # Copyright 2023 Tecnativa - Pedro M. Baeza
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Prorrata de IVA",
     "summary": "Prorrata de IVA para la localización española",
-    "version": "14.0.1.0.4",
+    "version": "14.0.2.0.0",
     "license": "AGPL-3",
     "author": "Creu Blanca,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/l10n-spain",
     "depends": ["l10n_es_aeat"],
     "data": [
         "security/ir.model.access.csv",
         "data/account_template_tax.xml",
```

## odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml

### odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml

```diff
@@ -47,8 +47,100 @@
   </record>
   <record id="l10n_es.account_tax_template_p_iva10_ibc" model="account.tax.template">
     <field name="template_with_vat_prorate" eval="True"/>
   </record>
   <record id="l10n_es.account_tax_template_p_iva10_ibi" model="account.tax.template">
     <field name="template_with_vat_prorate" eval="True"/>
   </record>
+  <record id="l10n_es.account_tax_template_p_iva21_sp_in" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva21_ic_bc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva21_ic_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_sp_ex" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_sp_ex" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva21_sp_ex" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_ic_bc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_ic_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_ic_bc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_ic_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_ic_bc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_ic_sc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_ibc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_isc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_bc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva5_sc" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_sp_in" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_sp_in" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_isp" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_isp" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva21_isp" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva4_isp_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva10_isp_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
+  <record id="l10n_es.account_tax_template_p_iva21_isp_bi" model="account.tax.template">
+    <field name="template_with_vat_prorate" eval="True"/>
+    <field name="prorate_account_template_ids" eval="[(5,0,0), (4, ref('l10n_es.account_common_472'))]"/>
+  </record>
 </odoo>
```

## odoo/addons/l10n_es_vat_prorate/i18n/l10n_es_vat_prorate.pot

```diff
@@ -10,14 +10,19 @@
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
 
 #. module: l10n_es_vat_prorate
+#: model:ir.model.fields,help:l10n_es_vat_prorate.field_account_tax__prorate_account_ids
+msgid "Accounts to apply the recompute"
+msgstr ""
+
+#. module: l10n_es_vat_prorate
 #: model:ir.model,name:l10n_es_vat_prorate.model_res_company
 msgid "Companies"
 msgstr ""
 
 #. module: l10n_es_vat_prorate
 #: model:ir.model.fields,field_description:l10n_es_vat_prorate.field_res_company_vat_prorate__company_id
 msgid "Company"
@@ -90,14 +95,24 @@
 
 #. module: l10n_es_vat_prorate
 #: model:ir.model.fields,field_description:l10n_es_vat_prorate.field_res_company_vat_prorate__write_date
 msgid "Last Updated on"
 msgstr ""
 
 #. module: l10n_es_vat_prorate
+#: model:ir.model.fields,field_description:l10n_es_vat_prorate.field_account_tax__prorate_account_ids
+msgid "Prorate Account"
+msgstr ""
+
+#. module: l10n_es_vat_prorate
+#: model:ir.model.fields,field_description:l10n_es_vat_prorate.field_account_tax_template__prorate_account_template_ids
+msgid "Prorate Account Template"
+msgstr ""
+
+#. module: l10n_es_vat_prorate
 #: model:ir.model,name:l10n_es_vat_prorate.model_account_tax
 msgid "Tax"
 msgstr ""
 
 #. module: l10n_es_vat_prorate
 #: model:ir.model.fields,field_description:l10n_es_vat_prorate.field_account_tax_template__template_with_vat_prorate
 msgid "Template With Vat Prorate"
```

## odoo/addons/l10n_es_vat_prorate/models/account_tax.py

```diff
@@ -7,14 +7,21 @@
 
 class AccountTax(models.Model):
     _inherit = "account.tax"
 
     with_vat_prorate = fields.Boolean(
         compute="_compute_with_vat_prorate", store=True, readonly=False
     )
+    prorate_account_ids = fields.Many2many(
+        "account.account",
+        compute="_compute_with_vat_prorate",
+        store=True,
+        readonly=True,
+        help="Accounts to apply the recompute",
+    )
     company_with_vat_prorate = fields.Boolean(
         related="company_id.with_vat_prorate",
         string="Company with VAT prorate",
     )
 
     @api.depends("company_id.with_vat_prorate")
     def _compute_with_vat_prorate(self):
@@ -26,20 +33,51 @@
                 xmlids = self.env["ir.model.data"].search_read(
                     [("model", "=", tax._name), ("res_id", "=", tax.id)],
                     ["name", "module"],
                     limit=1,
                 )
                 if xmlids:
                     xmlid = xmlids[0]
-                    tax.with_vat_prorate = (
-                        "{}.{}".format(xmlid["module"], xmlid["name"].split("_", 1)[1])
-                        in tax_template_ids
+                    tax_ref = "{}.{}".format(
+                        xmlid["module"], xmlid["name"].split("_", 1)[1]
                     )
+                    with_vat_prorate = tax_ref in tax_template_ids
+                    prorate_account_ids = [(5, 0, 0)]
+                    if with_vat_prorate:
+                        tax_template = self.env.ref(tax_ref)
+                        for (
+                            template_account
+                        ) in tax_template.prorate_account_template_ids:
+                            template_account_xmlids = self.env[
+                                "ir.model.data"
+                            ].search_read(
+                                [
+                                    ("model", "=", template_account._name),
+                                    ("res_id", "=", template_account.id),
+                                ],
+                                ["name", "module"],
+                                limit=1,
+                            )
+                            if template_account_xmlids:
+                                account = self.env.ref(
+                                    "{}.{}_{}".format(
+                                        template_account_xmlids[0]["module"],
+                                        tax.company_id.id,
+                                        template_account_xmlids[0]["name"],
+                                    ),
+                                    raise_if_not_found=False,
+                                )
+                                if account:
+                                    prorate_account_ids.append((4, account.id))
+
+                    tax.with_vat_prorate = with_vat_prorate
+                    tax.prorate_account_ids = prorate_account_ids
                     continue
             tax.with_vat_prorate = False
+            tax.prorate_account_ids = False
 
     def compute_all(
         self,
         price_unit,
         currency=None,
         quantity=1.0,
         product=None,
@@ -60,15 +98,23 @@
         new_taxes = []
         company = self[:1].company_id or self.env.company
         if not currency:
             currency = company.currency_id
         for tax_val in result["taxes"]:
             tax = self.env["account.tax"].browse(tax_val["id"])
             date = self.env.context.get("vat_prorate_date", False)
-            if tax.with_vat_prorate and tax_val["account_id"] and date:
+            if (
+                tax.with_vat_prorate
+                and tax_val["account_id"]
+                and date
+                and (
+                    not tax.prorate_account_ids
+                    or tax_val["account_id"] in tax.prorate_account_ids.ids
+                )
+            ):
                 prec = currency.rounding
                 prorate = self.company_id.get_prorate(date)
                 new_vals = tax_val.copy()
                 new_vals["vat_prorate"] = True
                 tax_val["amount"] = float_round(
                     tax_val["amount"] * (prorate / 100), precision_rounding=prec
                 )
@@ -79,14 +125,16 @@
         return result
 
 
 class AccountTaxTemplate(models.Model):
     _inherit = "account.tax.template"
 
     template_with_vat_prorate = fields.Boolean()
+
+    prorate_account_template_ids = fields.Many2many("account.account.template")
     # Name must be different that the account.tax field in order to make it
     # compatible with account_chart_update
 
     @ormcache()
     def _get_vat_prorate_template_xmlids(self):
         templates = self.env["account.tax.template"].search(
             [("template_with_vat_prorate", "=", True)]
```

## odoo/addons/l10n_es_vat_prorate/tests/test_prorate_sii.py

```diff
@@ -15,16 +15,16 @@
             [("name", "=", "l10n_es_aeat_sii_oca"), ("state", "=", "installed")]
         ):
             raise SkipTest("l10n_es_aeat_sii_oca is not installed")
         cls.company.write(
             {
                 "with_vat_prorate": True,
                 "vat_prorate_ids": [
-                    (0, 0, {"date": date(2000, 1, 1), "vat_prorate": 10}),
-                    (0, 0, {"date": date(2001, 1, 1), "vat_prorate": 20}),
+                    (0, 0, {"date": date(2020, 1, 1), "vat_prorate": 20}),
+                    (0, 0, {"date": date(2021, 1, 1), "vat_prorate": 10}),
                 ],
             }
         )
 
     def test_get_invoice_data(self):
         mapping = [
             ("out_invoice", [(100, ["s_iva10b"]), (200, ["s_iva21s"])], {}),
```

## odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva21_sp_ex_dict.json

### Pretty-printed

 * *Similarity: 0.9895833333333334%*

 * *Differences: {"'FacturaRecibida'": "{'CuotaDeducible': 4.2}"}*

```diff
@@ -1,15 +1,15 @@
 {
     "FacturaRecibida": {
         "ClaveRegimenEspecialOTrascendencia": "01",
         "Contraparte": {
             "NIF": "F35999705",
             "NombreRazon": "Test partner"
         },
-        "CuotaDeducible": 21.0,
+        "CuotaDeducible": 4.2,
         "DescripcionOperacion": "/",
         "DesgloseFactura": {
             "InversionSujetoPasivo": {
                 "DetalleIVA": [
                     {
                         "BaseImponible": 100.0,
                         "CuotaSoportada": 21.0,
```

## odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva21_sp_in_dict.json

### Pretty-printed

 * *Similarity: 0.9907407407407408%*

 * *Differences: {"'FacturaRecibida'": "{'CuotaDeducible': -4.2}"}*

```diff
@@ -1,15 +1,15 @@
 {
     "FacturaRecibida": {
         "ClaveRegimenEspecialOTrascendencia": "01",
         "Contraparte": {
             "NIF": "F35999705",
             "NombreRazon": "Test partner"
         },
-        "CuotaDeducible": -21.0,
+        "CuotaDeducible": -4.2,
         "DescripcionOperacion": "/",
         "DesgloseFactura": {
             "DesgloseIVA": {
                 "DetalleIVA": [
                     {
                         "BaseImponible": -100.0,
                         "CuotaSoportada": -21.0,
```

## odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml

### odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml

```diff
@@ -6,11 +6,12 @@
     <field name="name">account.tax.form (in l10n_es_vat_prorate)</field>
     <field name="model">account.tax</field>
     <field name="inherit_id" ref="account.view_tax_form"/>
     <field name="arch" type="xml">
       <field name="tax_group_id" position="after">
         <field name="with_vat_prorate" attrs="{'invisible': [('company_with_vat_prorate', '=', False)]}"/>
         <field name="company_with_vat_prorate" invisible="1"/>
+        <field name="prorate_account_ids" widget="many2many_tags" attrs="{'invisible': [('company_with_vat_prorate', '=', False)]}"/>
       </field>
     </field>
   </record>
 </odoo>
```

## Comparing `odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/METADATA` & `odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-l10n-es-vat-prorate
-Version: 14.0.1.0.5.dev1
+Version: 14.0.2.0.0
 Summary: Prorrata de IVA para la localización española
 Home-page: https://github.com/OCA/l10n-spain
 Author: Creu Blanca,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/RECORD` & `odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,44 +1,44 @@
 odoo/addons/l10n_es_vat_prorate/README.rst,sha256=K4tbBGy4Kn63orlRRAT8g1G3OUa9DJt3-W1hHGnjDC8,2828
 odoo/addons/l10n_es_vat_prorate/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/l10n_es_vat_prorate/__manifest__.py,sha256=xEYvdfJdMTR0hJyespDfnkF0ifumJZHkbYzXjDij13c,707
-odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml,sha256=FKYAlWq9utX6RsWRgB8RRaDUwWcQ3vvUK7KgubSR8sw,2847
-odoo/addons/l10n_es_vat_prorate/i18n/l10n_es_vat_prorate.pot,sha256=pYTjVsiymfSHy6RMAr5DQlN8YZVNAro7U7l6bX_w_7g,5197
+odoo/addons/l10n_es_vat_prorate/__manifest__.py,sha256=4c6JFNVV0jDYWx5CLQIq_Yz_p-X5BBerkatFuqK8doY,707
+odoo/addons/l10n_es_vat_prorate/data/account_template_tax.xml,sha256=C5GAM9C5U2LXti9pLyLso_2WVeV-Zmw5Kt0Oq8UATHQ,9925
+odoo/addons/l10n_es_vat_prorate/i18n/l10n_es_vat_prorate.pot,sha256=gbwHN9qqxRAP9N89Qx-cSK4VpkkZPFUIa0d4fBOn9yI,5731
 odoo/addons/l10n_es_vat_prorate/models/__init__.py,sha256=jIEdg7qeQkGuvMKmtfjCHXxaH9nJR6lLIGVJZdty8Mw,79
 odoo/addons/l10n_es_vat_prorate/models/account_move.py,sha256=b0TZYEOcXqP1-9E6y1ug7hJS6OQ-vcu8cAJ-pnByWGk,3096
-odoo/addons/l10n_es_vat_prorate/models/account_tax.py,sha256=3OIdTJf04bEzut-BoddiAOEk50QimLIWf1x1qCq04_I,3740
+odoo/addons/l10n_es_vat_prorate/models/account_tax.py,sha256=V9B5rauhgnJLn5T7emmJDxaqo3pi_Cck2p8Dc8XXLBA,5880
 odoo/addons/l10n_es_vat_prorate/models/res_company.py,sha256=Wah2sDgBK1DG9S8Tv4U_1Y1EOHRIeZkVydNrf2gTu1k,956
 odoo/addons/l10n_es_vat_prorate/readme/CONFIGURE.rst,sha256=YobhDYZhrSHD-rmP6XTok-3LLQqLnHkNEyQjqq0kCCY,190
 odoo/addons/l10n_es_vat_prorate/readme/CONTRIBUTORS.rst,sha256=GAYxzAZEN5wTBewMNx4PD2y_QoI-dzpokacQ9NnaEso,16
 odoo/addons/l10n_es_vat_prorate/readme/DESCRIPTION.rst,sha256=_v0xykyArhbS6i0C1KTCyg130if1w2rUtmqYIZKCSLY,67
 odoo/addons/l10n_es_vat_prorate/security/ir.model.access.csv,sha256=r6aMS29OP-UNeSm1n3VoKFIdsPzE1eSO6XTb2q4L5BY,311
 odoo/addons/l10n_es_vat_prorate/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/l10n_es_vat_prorate/static/description/index.html,sha256=vi7-J6755shCCXcze2d4FULPmDucEyJjeJR-FxIrZB8,12069
 odoo/addons/l10n_es_vat_prorate/tests/__init__.py,sha256=6Rb6Tok-1VPTnknpQ9zVcvvPDgK3on_2Ixg-B80jFC4,62
-odoo/addons/l10n_es_vat_prorate/tests/test_prorate_sii.py,sha256=5NX7oNRLr-5alhq5TtOWkA6WwgbWdzNOn2KaA9Nqtiw,4400
+odoo/addons/l10n_es_vat_prorate/tests/test_prorate_sii.py,sha256=xkfh907wIUB3lJm7ZPm_vleh8ssNQuSZQcSzdBnyxGM,4400
 odoo/addons/l10n_es_vat_prorate/tests/test_vat_prorate.py,sha256=c38jiq4XlIxsHy2UNghjaDVBTBMTK-Tjb0kv25fkiK4,5380
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva0_ns_p_iva10_bc_dict.json,sha256=tCQFGnX__BpnvMswqGcDUNLlnCdV3QEXqfDtVMK65Zc,736
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_dict.json,sha256=PPgBnEZpDz1fymdRgtfc4Ds__y4M2OSQnnOnfkNwYtQ,701
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf19_p_iva21_sc_p_irpf19_dict.json,sha256=8MHejY63AInBIP7-iNqoWVkdY7ci2zpX82BcMQeGgRA,787
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_irpf1_dict.json,sha256=8REzaRz5qFLCpnDw_tFJ5rAnahq9vNHEyGy9OG5F-N8,701
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva10_bc_p_req014_p_iva21_sc_p_req52_dict.json,sha256=4dZqOUrY_gUdK-5ftUsZF9m0Lz1kajdhXfINr8KTkaE,1096
-odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva21_sp_ex_dict.json,sha256=iBvzIsctmh-CUUwi8f4Jp4agbPdrOu_oEK8ZLQjx2bU,711
+odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_invoice_p_iva21_sp_ex_dict.json,sha256=kUPHMdt_hHd0JEtgVaE4JhDT6sf1wWJ0jEsdCZD_5DE,710
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva10_bc_dict.json,sha256=SHkUkOX-V8B1jPaqHvmmWsgKV_R_vnh9hVrkKrIK5_0,734
-odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva21_sp_in_dict.json,sha256=YXvgL71H0PXCOe_ubU72T1AKzxcWXrjkslIjVTH0s5s,735
+odoo/addons/l10n_es_vat_prorate/tests/json/sii_in_refund_p_iva21_sp_in_dict.json,sha256=l1BY-3vdWY9xkbjnhKYB_sQJrh-AcqPltXvkNr_mVoA,734
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva0_sp_i_s_iva0_ic_dict.json,sha256=s8UxoW_JFc5RgDax4U_nFEvqYyQS83T6n9wwhe20Iwk,921
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_dict.json,sha256=wQHW_YZZoRCH5-OIky4DjJPoyna-FPvn8zTEzBGKnaA,871
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_irpf1_dict.json,sha256=wQHW_YZZoRCH5-OIky4DjJPoyna-FPvn8zTEzBGKnaA,871
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva0_ns_dict.json,sha256=zDoIdfvdXOhD7IhGsoK_CSp8yhHgr0DGqHG9eyGCObk,871
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_iva21s_dict.json,sha256=pqNkawOZKTiJn5Y10DpzeMNEbnhwUd9j52bH6I5oPG8,1362
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva10b_s_req014_s_iva21s_s_req52_dict.json,sha256=igz-GuiiXhC1Rf2wDx6zNs2JCOu6TuyXXsbbW1Hu5Mg,1573
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_invoice_s_iva_e_s_iva0_e_dict.json,sha256=s8UxoW_JFc5RgDax4U_nFEvqYyQS83T6n9wwhe20Iwk,921
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva0_sp_i_s_iva0_ic_dict.json,sha256=qYdeuYjMUUR9tkf2YWUNzkuCmsEhtUJGWpw7tj6eYUA,956
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva10b_s_iva10b_s_iva21s_dict.json,sha256=gzI_xSSLdHz5qBll5rqJ9TJmHbxRCPl1e9WOqci7THU,1397
 odoo/addons/l10n_es_vat_prorate/tests/json/sii_out_refund_s_iva_e_s_iva0_e_dict.json,sha256=qYdeuYjMUUR9tkf2YWUNzkuCmsEhtUJGWpw7tj6eYUA,956
 odoo/addons/l10n_es_vat_prorate/views/account_move_views.xml,sha256=wjM_aoFSnnnOqPpptJfXwlibAWaoD5QpFYlNFZherCE,707
-odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml,sha256=Tv6nfgqwN6WuJKURWzJgeX4mQ-wcbm9W0U9TEDtbqwo,798
+odoo/addons/l10n_es_vat_prorate/views/account_tax_views.xml,sha256=xVLUeEYweW5vcEenIBETAsW-eImTVqjoLbonDx0xYy0,1017
 odoo/addons/l10n_es_vat_prorate/views/res_company_prorate_views.xml,sha256=w2vOu7K0ichZwC7zJ7Vu2AWYjtxw0thaLs8fBQ7uEDE,1201
 odoo/addons/l10n_es_vat_prorate/views/res_company_views.xml,sha256=6UqcXtAhmiyOFNKMjlPp-iQS3_Fv8RS-kOuLOb0Lxww,949
-odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/METADATA,sha256=2r8_p5FJJmwEghuDoMS8XLobO_PwuHPQNKZFATUNlwg,3437
-odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_l10n_es_vat_prorate-14.0.1.0.5.dev1.dist-info/RECORD,,
+odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/METADATA,sha256=6oRnJIKkp8tBJr_uPOAnSjqH7w-fo4c1klUVVtXIxbo,3432
+odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_l10n_es_vat_prorate-14.0.2.0.0.dist-info/RECORD,,
```

