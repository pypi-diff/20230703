# Comparing `tmp/odoo_addon_account_move_tier_validation-15.0.1.1.1.4-py3-none-any.whl.zip` & `tmp/odoo_addon_account_move_tier_validation-16.0.1.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,28 @@
-Zip file size: 34682 bytes, number of entries: 28
--rw-r--r--  2.0 unx     3769 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/README.rst
--rw-r--r--  2.0 unx      127 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/__init__.py
--rw-r--r--  2.0 unx      605 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/__manifest__.py
--rw-r--r--  2.0 unx     5727 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/account_move_tier_validation.pot
--rw-r--r--  2.0 unx     5797 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/ca.po
--rw-r--r--  2.0 unx     6896 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/es.po
--rw-r--r--  2.0 unx     5800 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/es_PA.po
--rw-r--r--  2.0 unx     6978 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/sv.po
--rw-r--r--  2.0 unx     6540 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/i18n/zh_CN.po
--rw-r--r--  2.0 unx       57 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/models/__init__.py
--rw-r--r--  2.0 unx      745 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/models/account_move.py
--rw-r--r--  2.0 unx      401 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/models/tier_definition.py
--rw-r--r--  2.0 unx      170 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx       86 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       92 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      114 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/readme/INSTALL.rst
--rw-r--r--  2.0 unx      579 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/static/description/icon.png
--rw-r--r--  2.0 unx    13715 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/static/description/index.html
--rw-r--r--  2.0 unx      122 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/tests/__init__.py
--rw-r--r--  2.0 unx      598 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/tests/common.py
--rw-r--r--  2.0 unx     2212 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/tests/test_tier_validation.py
--rw-r--r--  2.0 unx      674 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/tests/tier_validation_tester.py
--rw-r--r--  2.0 unx     5847 b- defN 22-Sep-28 02:42 odoo/addons/account_move_tier_validation/views/account_move_view.xml
--rw-r--r--  2.0 unx     4444 b- defN 22-Sep-28 02:42 odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Sep-28 02:42 odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Sep-28 02:42 odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3258 b- defN 22-Sep-28 02:42 odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/RECORD
-28 files, 84905 bytes uncompressed, 29060 bytes compressed:  65.8%
+Zip file size: 32791 bytes, number of entries: 26
+-rw-r--r--  2.0 unx     3769 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/README.rst
+-rw-r--r--  2.0 unx      127 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/__init__.py
+-rw-r--r--  2.0 unx      605 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/__manifest__.py
+-rw-r--r--  2.0 unx     5010 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/account_move_tier_validation.pot
+-rw-r--r--  2.0 unx     5797 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/ca.po
+-rw-r--r--  2.0 unx     6896 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/es.po
+-rw-r--r--  2.0 unx     5800 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/es_PA.po
+-rw-r--r--  2.0 unx     6978 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/sv.po
+-rw-r--r--  2.0 unx     6540 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/i18n/zh_CN.po
+-rw-r--r--  2.0 unx       57 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/models/__init__.py
+-rw-r--r--  2.0 unx     1163 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/models/account_move.py
+-rw-r--r--  2.0 unx      381 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/models/tier_definition.py
+-rw-r--r--  2.0 unx      170 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx       86 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      114 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/readme/INSTALL.rst
+-rw-r--r--  2.0 unx      579 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/static/description/icon.png
+-rw-r--r--  2.0 unx    13715 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/static/description/index.html
+-rw-r--r--  2.0 unx      101 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/tests/__init__.py
+-rw-r--r--  2.0 unx     1073 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/tests/test_tier_validation.py
+-rw-r--r--  2.0 unx     2147 b- defN 23-Jul-03 11:23 odoo/addons/account_move_tier_validation/views/account_move_view.xml
+-rw-r--r--  2.0 unx     4445 b- defN 23-Jul-03 11:23 odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-03 11:23 odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-03 11:23 odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3019 b- defN 23-Jul-03 11:23 odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/RECORD
+26 files, 78216 bytes uncompressed, 27577 bytes compressed:  64.7%
```

## zipnote {}

```diff
@@ -54,32 +54,26 @@
 
 Filename: odoo/addons/account_move_tier_validation/static/description/index.html
 Comment: 
 
 Filename: odoo/addons/account_move_tier_validation/tests/__init__.py
 Comment: 
 
-Filename: odoo/addons/account_move_tier_validation/tests/common.py
-Comment: 
-
 Filename: odoo/addons/account_move_tier_validation/tests/test_tier_validation.py
 Comment: 
 
-Filename: odoo/addons/account_move_tier_validation/tests/tier_validation_tester.py
-Comment: 
-
 Filename: odoo/addons/account_move_tier_validation/views/account_move_view.xml
 Comment: 
 
-Filename: odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/METADATA
+Filename: odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/WHEEL
+Filename: odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/top_level.txt
+Filename: odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/RECORD
+Filename: odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_move_tier_validation/README.rst

```diff
@@ -10,21 +10,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Faccount--invoicing-lightgray.png?logo=github
-    :target: https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation
+    :target: https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation
     :alt: OCA/account-invoicing
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/account-invoicing-15-0/account-invoicing-15-0-account_move_tier_validation
+    :target: https://translation.odoo-community.org/projects/account-invoicing-16-0/account-invoicing-16-0-account_move_tier_validation
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/95/15.0
+    :target: https://runbot.odoo-community.org/runbot/95/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 This module extends the functionality of Account Move to support a tier validation process.
 
 **Table of contents**
@@ -62,15 +62,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/account-invoicing/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -93,10 +93,10 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/account-invoicing <https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation>`_ project on GitHub.
+This module is part of the `OCA/account-invoicing <https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/account_move_tier_validation/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright <2020> PESOL <info@pesol.es>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl)
 {
     "name": "Account Move Tier Validation",
     "summary": "Extends the functionality of Account Moves to "
     "support a tier validation process.",
-    "version": "15.0.1.1.1",
+    "version": "16.0.1.0.0",
     "category": "Accounts",
     "website": "https://github.com/OCA/account-invoicing",
     "author": "PESOL, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "application": False,
     "installable": True,
     "depends": ["account", "base_tier_validation"],
```

## odoo/addons/account_move_tier_validation/i18n/account_move_tier_validation.pot

```diff
@@ -1,50 +1,48 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* account_move_tier_validation
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
 
 #. module: account_move_tier_validation
+#. odoo-python
 #: code:addons/account_move_tier_validation/models/account_move.py:0
 #, python-format
 msgid "Bill"
 msgstr ""
 
 #. module: account_move_tier_validation
-#: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__can_forward
-msgid "Can Forward"
-msgstr ""
-
-#. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__can_review
 msgid "Can Review"
 msgstr ""
 
 #. module: account_move_tier_validation
+#. odoo-python
 #: code:addons/account_move_tier_validation/models/account_move.py:0
 #, python-format
 msgid "Credit Note"
 msgstr ""
 
 #. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__has_comment
 msgid "Has Comment"
 msgstr ""
 
 #. module: account_move_tier_validation
+#. odoo-python
 #: code:addons/account_move_tier_validation/models/account_move.py:0
 #, python-format
 msgid "Invoice"
 msgstr ""
 
 #. module: account_move_tier_validation
 #: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_account_invoice_filter
@@ -93,45 +91,31 @@
 
 #. module: account_move_tier_validation
 #: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_account_invoice_filter
 msgid "No Validation Requested"
 msgstr ""
 
 #. module: account_move_tier_validation
+#. odoo-python
 #: code:addons/account_move_tier_validation/models/account_move.py:0
 #, python-format
 msgid "Refund"
 msgstr ""
 
 #. module: account_move_tier_validation
-#: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_move_form
-msgid "Reject"
-msgstr ""
-
-#. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__rejected
 msgid "Rejected"
 msgstr ""
 
 #. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__rejected_message
 msgid "Rejected Message"
 msgstr ""
 
 #. module: account_move_tier_validation
-#: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_move_form
-msgid "Request Validation"
-msgstr ""
-
-#. module: account_move_tier_validation
-#: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_move_form
-msgid "Restart Validation"
-msgstr ""
-
-#. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__reviewer_ids
 msgid "Reviewers"
 msgstr ""
 
 #. module: account_move_tier_validation
 #: model:ir.model,name:account_move_tier_validation.model_tier_definition
 msgid "Tier Definition"
@@ -139,19 +123,14 @@
 
 #. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__to_validate_message
 msgid "To Validate Message"
 msgstr ""
 
 #. module: account_move_tier_validation
-#: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_move_form
-msgid "Validate"
-msgstr ""
-
-#. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__validated
 #: model_terms:ir.ui.view,arch_db:account_move_tier_validation.view_account_invoice_filter
 msgid "Validated"
 msgstr ""
 
 #. module: account_move_tier_validation
 #: model:ir.model.fields,field_description:account_move_tier_validation.field_account_move__validated_message
```

## odoo/addons/account_move_tier_validation/models/account_move.py

```diff
@@ -1,19 +1,31 @@
 # Copyright <2020> PESOL <info@pesol.es>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl)
 
-from odoo import _, models
+from odoo import _, api, models
 
 
 class AccountMove(models.Model):
     _name = "account.move"
     _inherit = ["account.move", "tier.validation"]
     _state_from = ["draft"]
     _state_to = ["posted"]
 
+    _tier_validation_manual_config = False
+
+    @api.depends("need_validation")
+    def _compute_hide_post_button(self):
+        result = super()._compute_hide_post_button()
+        for this in self:
+            this.hide_post_button |= this.need_validation
+        return result
+
+    def _get_under_validation_exceptions(self):
+        return super()._get_under_validation_exceptions() + ["needed_terms_dirty"]
+
     def _get_to_validate_message_name(self):
         name = super(AccountMove, self)._get_to_validate_message_name()
         if self.move_type == "in_invoice":
             name = _("Bill")
         elif self.move_type == "in_refund":
             name = _("Refund")
         elif self.move_type == "out_invoice":
```

## odoo/addons/account_move_tier_validation/models/tier_definition.py

```diff
@@ -5,10 +5,10 @@
 
 
 class TierDefinition(models.Model):
     _inherit = "tier.definition"
 
     @api.model
     def _get_tier_validation_model_names(self):
-        res = super(TierDefinition, self)._get_tier_validation_model_names()
+        res = super()._get_tier_validation_model_names()
         res.append("account.move")
         return res
```

## odoo/addons/account_move_tier_validation/static/description/index.html

### odoo/addons/account_move_tier_validation/static/description/index.html

```diff
@@ -367,21 +367,21 @@
       <p>
         <a class="reference external" href="https://odoo-community.org/page/development-status">
           <img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png"/>
         </a>
         <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html">
           <img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png"/>
         </a>
-        <a class="reference external" href="https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation">
+        <a class="reference external" href="https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation">
           <img alt="OCA/account-invoicing" src="https://img.shields.io/badge/github-OCA%2Faccount--invoicing-lightgray.png?logo=github"/>
         </a>
-        <a class="reference external" href="https://translation.odoo-community.org/projects/account-invoicing-15-0/account-invoicing-15-0-account_move_tier_validation">
+        <a class="reference external" href="https://translation.odoo-community.org/projects/account-invoicing-16-0/account-invoicing-16-0-account_move_tier_validation">
           <img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png"/>
         </a>
-        <a class="reference external" href="https://runbot.odoo-community.org/runbot/95/15.0">
+        <a class="reference external" href="https://runbot.odoo-community.org/runbot/95/16.0">
           <img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png"/>
         </a>
       </p>
       <p>This module extends the functionality of Account Move to support a tier validation process.</p>
       <p>
         <strong>Table of contents</strong>
       </p>
@@ -462,15 +462,15 @@
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/account-invoicing/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-          <a class="reference external" href="https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
+          <a class="reference external" href="https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
           <a class="toc-backref" href="#id5">Credits</a>
@@ -509,15 +509,15 @@
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
           <p>
             This module is part of the
-            <a class="reference external" href="https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation">OCA/account-invoicing</a>
+            <a class="reference external" href="https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation">OCA/account-invoicing</a>
             project on GitHub.
           </p>
           <p>
             You are welcome to contribute. To learn how please visit
             <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>
             .
           </p>
```

## odoo/addons/account_move_tier_validation/tests/__init__.py

```diff
@@ -1,4 +1,3 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
-from . import common
 from . import test_tier_validation
```

## odoo/addons/account_move_tier_validation/tests/test_tier_validation.py

```diff
@@ -1,65 +1,28 @@
 # Copyright 2018 ForgeFlow S.L.
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html).
 
 from odoo.tests import common
 from odoo.tests.common import tagged
 
-from .common import setup_test_model, teardown_test_model
-from .tier_validation_tester import TierValidationTester
-
 
 @tagged("post_install", "-at_install")
 class TestAccountTierValidation(common.TransactionCase):
-    @classmethod
-    def setUpClass(cls):
-        super(TestAccountTierValidation, cls).setUpClass()
-
-        setup_test_model(cls.env, [TierValidationTester])
-
-        cls.test_model = cls.env[TierValidationTester._name]
-
-        cls.tester_model = cls.env["ir.model"].search(
-            [("model", "=", "tier.validation.tester")]
-        )
-
-        # Access record:
-        cls.env["ir.model.access"].create(
-            {
-                "name": "access.tester",
-                "model_id": cls.tester_model.id,
-                "perm_read": 1,
-                "perm_write": 1,
-                "perm_create": 1,
-                "perm_unlink": 1,
-            }
-        )
-
-        # Create users:
-        group_ids = cls.env.ref("base.group_system").ids
-        cls.test_user_1 = cls.env["res.users"].create(
-            {"name": "John", "login": "test1", "groups_id": [(6, 0, group_ids)]}
-        )
-
-        # Create tier definitions:
-        cls.tier_def_obj = cls.env["tier.definition"]
-        cls.tier_def_obj.create(
-            {
-                "model_id": cls.tester_model.id,
-                "review_type": "individual",
-                "reviewer_id": cls.test_user_1.id,
-                "definition_domain": "[('test_field', '>', 1.0)]",
-            }
-        )
-
-        cls.test_record = cls.test_model.create({"test_field": 2.5})
-
-    @classmethod
-    def tearDownClass(cls):
-        teardown_test_model(cls.env, [TierValidationTester])
-        return super(TestAccountTierValidation, cls).tearDownClass()
-
     def test_01_tier_definition_models(self):
-        """When the user can validate all future reviews, it is not needed
-        to request a validation, the action can be done straight forward."""
-        res = self.tier_def_obj._get_tier_validation_model_names()
+        res = self.env["tier.definition"]._get_tier_validation_model_names()
         self.assertIn("account.move", res)
+
+    def test_02_form(self):
+        for _type in ("in_invoice", "out_invoice", "in_refund", "out_refund"):
+            self.env["tier.definition"].create(
+                {
+                    "model_id": self.env["ir.model"]
+                    .search([("model", "=", "account.move")])
+                    .id,
+                    "definition_domain": "[('move_type', '=', '%s')]" % _type,
+                }
+            )
+            with common.Form(
+                self.env["account.move"].with_context(default_move_type=_type)
+            ) as form:
+                form.save()
+                self.assertTrue(form.hide_post_button)
```

## odoo/addons/account_move_tier_validation/views/account_move_view.xml

### odoo/addons/account_move_tier_validation/views/account_move_view.xml

```diff
@@ -1,48 +1,11 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!-- Copyright <2020> PESOL <info@pesol.es>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl) -->
 <odoo>
-  <record id="view_move_form" model="ir.ui.view">
-    <field name="name">account.move.form - test</field>
-    <field name="model">account.move</field>
-    <field name="inherit_id" ref="account.view_move_form"/>
-    <field name="arch" type="xml">
-      <button name="action_post" position="before">
-        <button name="request_validation" string="Request Validation" attrs="{'invisible': ['|','|',('need_validation', '!=', True),('rejected','=',True),('state','not in',['draft'])]}" type="object"/>
-        <button name="restart_validation" string="Restart Validation" attrs="{'invisible': ['|',('review_ids', '=', []),('state','not in',['draft'])]}" type="object"/>
-      </button>
-      <header position="after">
-        <field name="need_validation" invisible="1"/>
-        <field name="validated" invisible="1"/>
-        <field name="rejected" invisible="1"/>
-        <div class="alert alert-warning" role="alert" attrs="{'invisible': ['|', '|', '|',                      ('validated', '=', True), ('state', 'not in', ['draft']),                      ('rejected', '=', True), ('review_ids', '=', [])]}" style="margin-bottom:0px;">
-          <p>
-            <field name="to_validate_message"/>
-            <field name="can_review" invisible="1"/>
-            <button name="validate_tier" string="Validate" attrs="{'invisible': [('can_review', '=', False)]}" type="object" class="oe_inline oe_button btn-success" icon="fa-thumbs-up"/>
-            <button name="reject_tier" string="Reject" attrs="{'invisible': [('can_review', '=', False)]}" type="object" class="btn-icon btn-danger" icon="fa-thumbs-down"/>
-          </p>
-        </div>
-        <div class="alert alert-success" role="alert" attrs="{'invisible': ['|', '|', ('validated', '!=', True), ('state', 'not in', ['draft']), ('review_ids', '=', [])]}" style="margin-bottom:0px;">
-          <p>
-            <field name="validated_message"/>
-          </p>
-        </div>
-        <div class="alert alert-danger" role="alert" attrs="{'invisible': ['|', '|', ('rejected', '!=', True), ('state', 'not in', ['draft']), ('review_ids', '=', [])]}" style="margin-bottom:0px;">
-          <p>
-            <field name="rejected_message"/>
-          </p>
-        </div>
-      </header>
-      <xpath expr="//form/div[hasclass('oe_chatter')]" position="before">
-        <field name="review_ids" widget="tier_validation" attrs="{'invisible':[('review_ids', '=', [])]}"/>
-      </xpath>
-    </field>
-  </record>
   <record id="view_account_invoice_filter" model="ir.ui.view">
     <field name="name">account.move.select - account_move_tier_validation</field>
     <field name="model">account.move</field>
     <field name="inherit_id" ref="account.view_account_invoice_filter"/>
     <field name="arch" type="xml">
       <filter name="duedate" position="after">
         <separator/>
```

## Comparing `odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/METADATA` & `odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 2.1
 Name: odoo-addon-account-move-tier-validation
-Version: 15.0.1.1.1.4
+Version: 16.0.1.0.0.2
 Summary: Extends the functionality of Account Moves to support a tier validation process.
 Home-page: https://github.com/OCA/account-invoicing
 Author: PESOL, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
-Requires-Python: >=3.8
-Requires-Dist: odoo-addon-base-tier-validation (<15.1dev,>=15.0dev)
-Requires-Dist: odoo (<15.1dev,>=15.0a)
+Requires-Python: >=3.10
+Requires-Dist: odoo-addon-base-tier-validation (<16.1dev,>=16.0dev)
+Requires-Dist: odoo (<16.1dev,>=16.0a)
 
 ============================
 Account Move Tier Validation
 ============================
 
 .. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
@@ -27,21 +27,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Faccount--invoicing-lightgray.png?logo=github
-    :target: https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation
+    :target: https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation
     :alt: OCA/account-invoicing
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/account-invoicing-15-0/account-invoicing-15-0-account_move_tier_validation
+    :target: https://translation.odoo-community.org/projects/account-invoicing-16-0/account-invoicing-16-0-account_move_tier_validation
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/95/15.0
+    :target: https://runbot.odoo-community.org/runbot/95/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 This module extends the functionality of Account Move to support a tier validation process.
 
 **Table of contents**
@@ -79,15 +79,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/account-invoicing/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/account-invoicing/issues/new?body=module:%20account_move_tier_validation%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -110,12 +110,12 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/account-invoicing <https://github.com/OCA/account-invoicing/tree/15.0/account_move_tier_validation>`_ project on GitHub.
+This module is part of the `OCA/account-invoicing <https://github.com/OCA/account-invoicing/tree/16.0/account_move_tier_validation>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/RECORD` & `odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,28 +1,26 @@
-odoo/addons/account_move_tier_validation/README.rst,sha256=-24QBNabs9XiMragmyu95rjHzQcjaKB3X1Sx3NwP_qw,3769
+odoo/addons/account_move_tier_validation/README.rst,sha256=0sKR4UNQh3HA85JivLVTw0eZGDoetALTDOjXuFLZWCc,3769
 odoo/addons/account_move_tier_validation/__init__.py,sha256=laTh20FyJyO0TcIHM4xQnU-SjhrpfUQ0R4YO4dg0-wE,127
-odoo/addons/account_move_tier_validation/__manifest__.py,sha256=cUbd02NqHgo5J9BON-fqkQpohIrSUYha092uERFC3tQ,605
-odoo/addons/account_move_tier_validation/i18n/account_move_tier_validation.pot,sha256=GMrYjzc8SzlT3vUwuKKSiEeiQ22yMVIYoW-JeUuOsHo,5727
+odoo/addons/account_move_tier_validation/__manifest__.py,sha256=lkSVkFW9EyWboM1VlQABm_4S5MATpIghdonfqM9UPaU,605
+odoo/addons/account_move_tier_validation/i18n/account_move_tier_validation.pot,sha256=ZOIM5qnZPwgIigDot5FjFPn8yqn0cBBuYXgRyA65Xz4,5010
 odoo/addons/account_move_tier_validation/i18n/ca.po,sha256=-1R177mIS8ZigmcBbr_lx2nkuWUP7i1HeRNW1Ot-iJE,5797
 odoo/addons/account_move_tier_validation/i18n/es.po,sha256=QNie8VArzIGs4HGFM5tch796l3UrNfMAI8NOB8fUthM,6896
 odoo/addons/account_move_tier_validation/i18n/es_PA.po,sha256=nxQ49o98b0W_ntHavBnfh5RyANJHJwfm7i720rl9UlU,5800
 odoo/addons/account_move_tier_validation/i18n/sv.po,sha256=NNWkL5_QRpgVsgGVMRecr31GoXr4TOCuk1V14006YIM,6978
 odoo/addons/account_move_tier_validation/i18n/zh_CN.po,sha256=rwREoJ1NzSCP1LWOc-tkQPOB61fPsViZpbWENou_qZE,6540
 odoo/addons/account_move_tier_validation/models/__init__.py,sha256=yWJ7VQ2Nd1cs2hDLVcXuOAYmll8qBEQiVoZd3uiIjJc,57
-odoo/addons/account_move_tier_validation/models/account_move.py,sha256=Rxs_WAaIqf0XKTGSWckgHu5z_raDh6qcwzg4tr6F9T8,745
-odoo/addons/account_move_tier_validation/models/tier_definition.py,sha256=hPiN6Z1EUZoHH3-QqOj8dj5asvOnwBxtXfP2E5hm6wA,401
+odoo/addons/account_move_tier_validation/models/account_move.py,sha256=aUSmVSeKJdAj6pk_GdwnDi-8XB7sJuQQE3QydgALPxw,1163
+odoo/addons/account_move_tier_validation/models/tier_definition.py,sha256=fO0heRKwNUsMErTSP2h8vcN5xpt2TmvxqnNlD7kAU7Y,381
 odoo/addons/account_move_tier_validation/readme/CONFIGURE.rst,sha256=JtU1G1X7eBNDndlS0r-FVAy7SVOri3iMWAyy0tMgCpI,170
 odoo/addons/account_move_tier_validation/readme/CONTRIBUTORS.rst,sha256=Ru-KFGqu0cGvo50RidC8WfDaFIcoITX_FJJvb29yxzg,86
 odoo/addons/account_move_tier_validation/readme/DESCRIPTION.rst,sha256=bdheFvdvguge8CZ6w5Bx_k8kPVFrTQS1x_xJf_DmHPM,92
 odoo/addons/account_move_tier_validation/readme/INSTALL.rst,sha256=OI7AZvvsxmBjnZb1De2bxG1zmZewOf3xqqbH5MkHOUI,114
 odoo/addons/account_move_tier_validation/readme/USAGE.rst,sha256=mNgMDNG_g6GkC0Cdch2-nEzHBIw52vcS3NJ69bhDAQY,579
 odoo/addons/account_move_tier_validation/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/account_move_tier_validation/static/description/index.html,sha256=ubA9mDiKL7qE0fgDWtzwIHSvA73LqVME1fC1TfSvkf0,13715
-odoo/addons/account_move_tier_validation/tests/__init__.py,sha256=3z2_lQ9JiDSFDam4p24qDw5j02iaPb4m2naxv9DkbGA,122
-odoo/addons/account_move_tier_validation/tests/common.py,sha256=WJLsBhObw6Bq2zkikbGrHuE-rDGMIPyKZnnq4zexoYM,598
-odoo/addons/account_move_tier_validation/tests/test_tier_validation.py,sha256=og-2EKPT54sdNfBRe4hy7tCo-XF0uj7V-r8nZd-K4xo,2212
-odoo/addons/account_move_tier_validation/tests/tier_validation_tester.py,sha256=P6MNG4FqO3p8KaPnZ3B9WMWg21gZnzScyEPD097Lf5I,674
-odoo/addons/account_move_tier_validation/views/account_move_view.xml,sha256=bEdYdbK4OeyXAPddkyq5uWXCm-J3vBqLqoLm-F6O4Qo,5847
-odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/METADATA,sha256=MCE3KfXrFvCw8kWk2qNleUStoia0W1MMdCyOpFCMmjs,4444
-odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_account_move_tier_validation-15.0.1.1.1.4.dist-info/RECORD,,
+odoo/addons/account_move_tier_validation/static/description/index.html,sha256=tXsblRW7e9jsYR9taeEZUZEpyAZw3mVUZDXsjVRl9UE,13715
+odoo/addons/account_move_tier_validation/tests/__init__.py,sha256=ssnpH9n-aLQS9BTXFRJcsakBUeFzIei9wPxrHmR5PCE,101
+odoo/addons/account_move_tier_validation/tests/test_tier_validation.py,sha256=RHhHIspkUZCD3O_67bOsmQhjleGEnWh6DaFjKTFgels,1073
+odoo/addons/account_move_tier_validation/views/account_move_view.xml,sha256=2imY1tlZE-3x6nsHPMLmhLredNCGalbxgTHtg1azDgE,2147
+odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/METADATA,sha256=bAgHYzut_B6-Y7MxjDyMde3HdMeY0_Vu0yNFUolnUXY,4445
+odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_account_move_tier_validation-16.0.1.0.0.2.dist-info/RECORD,,
```

